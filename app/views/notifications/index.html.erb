<h1>通知一覧</h1>

<% if @notifications.any? %>
  <ul class="notifications-list">
    <% @notifications.each do |notification| %>
      <li class="notification-item <%= 'unread' unless notification.read %>">
        <!-- 通知種別 -->
        <span class="kind">
          [<%= notification.notification_kind %>]
        </span>

        <!-- 通知タイトル -->
        <strong><%= notification.title %></strong>

        <!-- 通知本文 -->
        <p><%= notification.message %></p>

        <!-- 作成日時（例: 5分前） -->
        <small class="notification-time">
          <%= time_ago_in_words(notification.created_at) %> 前
        </small>

        <!-- 詳細リンク -->
        <% if notification.target.present? %>
          <div class="target-link">
            <%= link_to "#{notification.target_type} 詳細へ", polymorphic_path([notification.child, notification.target]) %>
          </div>
        <% end %>

        <!-- 既読/未読 -->
        <span class="status">
          <%= notification.read? ? "既読" : "未読" %>
        </span>
      </li>
    <% end %>
  </ul>
<% else %>
  <p>通知はありません。</p>
<% end %>