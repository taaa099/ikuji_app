<%= turbo_stream.update "calendar" do %>
  <%= render "schedules/calendar",
             month: @schedule.start_time.beginning_of_month,
             schedules: current_user.schedules
                                    .includes(:children)
                                    .where(start_time: @schedule.start_time.beginning_of_month.all_month)
                                    .order(start_time: :asc) %>
<% end %>

<%= turbo_stream.prepend "schedules-list",
    partial: "schedules/schedule_row",
    locals: { schedule: @schedule } %>

<%= turbo_stream.update "modal" do %>
  <turbo-frame id="modal"></turbo-frame>
<% end %>

<%= turbo_stream.replace "flash-messages",
    partial: "shared/flash",
    locals: { flash: { notice: "予定を保存しました" } } %>